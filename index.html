<script>
// =========================
// KONFIGURASI UTAMA
// =========================
const STEP_DM = 10;        // ⬅️ UBAH DI SINI (5 / 10 / 25 / 50)
const DM_MIN = 5;
const DM_MAX = 1000;
const UNTUNG = 3000;

// HARGA PER DM
const hargaPerDM = {
 "Mobile Legends": 100,
 "Free Fire": 110,
 "PUBG Mobile": 120
};

let selectedGame = "";

// =========================
// NAVIGASI HALAMAN
// =========================
function toPage(n){
 document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
 document.getElementById("page"+n).classList.add("active");
}

function selectGame(game){
 selectedGame = game;
 gameTitle.innerText = game;
 generateDM();
 toPage(2);
}

// =========================
// GENERATE DIAMOND OTOMATIS
// =========================
function generateDM(){
 dm.innerHTML = '<option value="">Pilih Diamond</option>';

 for(let i = DM_MIN; i <= DM_MAX; i += STEP_DM){
   let harga = (i * hargaPerDM[selectedGame]) + UNTUNG;

   let o = document.createElement("option");
   o.value = harga;
   o.text = i + " Diamond — Rp" + harga.toLocaleString("id-ID");
   dm.appendChild(o);
 }
}

// =========================
// HITUNG TOTAL
// =========================
function hitung(){
 total.innerText = dm.value
 ? "Total: Rp" + Number(dm.value).toLocaleString("id-ID")
 : "Total: Rp0";
}

// =========================
// ORDER WHATSAPP
// =========================
function order(){
 if(!idgame.value || !dm.value){
  alert("Lengkapi data dulu");
  return;
 }

 let msg = `Halo admin MEMETSTR,
Saya mau top up.

Game: ${selectedGame}
ID: ${idgame.value}
Paket: ${dm.options[dm.selectedIndex].text}
Total: Rp${dm.value}

Saya akan bayar dan kirim bukti.`;

 location.href =
 "https://wa.me/6282258810964?text=" + encodeURIComponent(msg);
}
</script>
